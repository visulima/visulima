# Benchmark

Compare the performance of different redact packages.

## Run benchmark

```bash
pnpm --filter "redact" run test:bench
```

### object redaction

### Object

| Name              | Hz           | Min    | Max    | Mean   | P75    | P99    | P995   | P999   | RME    | Samples |
| ----------------- | ------------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------- |
| @visulima/redact  | 3,653,136.74 | 0.0002 | 2.7425 | 0.0003 | 0.0003 | 0.0005 | 0.0006 | 0.0008 | ±1.18% | 1826569 |
| fast-redact       | 4,710,257.29 | 0.0002 | 4.1979 | 0.0002 | 0.0002 | 0.0003 | 0.0003 | 0.0005 | ±1.74% | 2355129 |
| unset-value       | 5,781,520.16 | 0.0001 | 0.2950 | 0.0002 | 0.0002 | 0.0003 | 0.0003 | 0.0005 | ±0.48% | 2890761 |
| fast-unset (copy) | 3,210,979.74 | 0.0002 | 0.3186 | 0.0003 | 0.0003 | 0.0005 | 0.0006 | 0.0008 | ±0.57% | 1605490 |
| fast-unset        | 5,293,101.79 | 0.0001 | 0.3544 | 0.0002 | 0.0002 | 0.0003 | 0.0004 | 0.0006 | ±0.66% | 2646551 |
| fast-unset (bare) | 8,807,615.02 | 0.0001 | 0.4230 | 0.0001 | 0.0001 | 0.0002 | 0.0002 | 0.0004 | ±0.83% | 4403808 |

### Deep Object

| Name              | Hz           | Min    | Max    | Mean   | P75    | P99    | P995   | P999   | RME    | Samples |
| ----------------- | ------------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------- |
| @visulima/redact  | 1,799,623.97 | 0.0004 | 0.5225 | 0.0006 | 0.0005 | 0.0011 | 0.0012 | 0.0018 | ±0.90% | 899813  |
| @qiwi/masker      | 6,841.74     | 0.1223 | 1.0570 | 0.1462 | 0.1335 | 0.7166 | 0.8230 | 0.9754 | ±1.92% | 3421    |
| fast-redact       | 1,802,630.86 | 0.0005 | 0.4264 | 0.0006 | 0.0005 | 0.0009 | 0.0010 | 0.0012 | ±0.58% | 901316  |
| unset-value       | 1,802,596.89 | 0.0004 | 0.5293 | 0.0006 | 0.0007 | 0.0010 | 0.0010 | 0.0016 | ±0.69% | 901299  |
| fast-unset (copy) | 2,674,493.92 | 0.0003 | 0.3708 | 0.0004 | 0.0004 | 0.0006 | 0.0007 | 0.0010 | ±0.72% | 1337247 |
| fast-unset        | 3,748,937.79 | 0.0002 | 0.7013 | 0.0003 | 0.0002 | 0.0005 | 0.0006 | 0.0009 | ±0.96% | 1874469 |
| fast-unset (bare) | 5,473,764.52 | 0.0001 | 0.8199 | 0.0002 | 0.0002 | 0.0003 | 0.0004 | 0.0006 | ±1.11% | 2736883 |

### Redact Array

| Name             | Hz       | Min    | Max    | Mean   | P75    | P99    | P995   | P999   | RME    | Samples |
| ---------------- | -------- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------- |
| @visulima/redact | 3,691.67 | 0.2013 | 3.2965 | 0.2709 | 0.2698 | 0.5313 | 0.6137 | 1.2214 | ±1.75% | 1846    |
